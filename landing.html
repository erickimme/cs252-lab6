<!DOCTYPE html>
<head>
 	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
 	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<style>
	.helveticaVeryLarge {
		font-family: "helvetica", "sans-serif";
		font-size: 25pt;
		font-weight: bold;
	}
	.helveticaSmall {
		font-family: "helvetica", "sans-serif";
		font-size: 10pt;
		font-weight: bold;
	}

	.helveticaMedium {
		font-family: "helvetica", "sans-serif";
		font-size: 14pt;
		font-weight: bold;
	}

	.topright { position: absolute; top: : 5px; right: 15px; text-align: right;}

    .btn1 {
        border: none;
        background-color: inherit;
        padding: 12px 12px;
        font-size: 14px;
        cursor: pointer;
        display: inline-block;
    }

    .logOut {
      background-color: white;
      color: black;
    }

    .logOut:hover {
      color: lightgrey;
    }

    .logOut:focus {outline:0;}
    
    .startGame {
      background-color: white;
      color: black;
    }

    .startGame:hover {
      color: salmon;
    }

    .startGame:focus {outline:0;}

    .wrapper {
    	text-align: center;
    }

    .btn2 {
    	position: absolute;
    	top: 53%;
    	right: 68%;
    	border: none;
        background-color: inherit;
        padding: 12px 12px;
        cursor: pointer;
        display: inline-block;
        outline: 0;
    }

    .stats {
    	margin-left: auto;
    	margin-right: auto;
    	position: absolute;
    	top: 45%;
    	right: 26%;
    }

    th, td {
    	text-align: left;
    }

	</style>

<script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBjOcpo1a3uAHLuwYzhgE71AiZS4Pj2GJo",
    authDomain: "cs252vernacular.firebaseapp.com",
    databaseURL: "https://cs252vernacular.firebaseio.com",
    projectId: "cs252vernacular",
    storageBucket: "cs252vernacular.appspot.com",
    messagingSenderId: "502978148456"
  };
  firebase.initializeApp(config);
</script>
<script>

/*function loadJSON(callback) {

  var xobj = new XMLHttpRequest();
  xobj.overrideMimeType("application/json");
  xobj.open('GET', 'jAuth.json', true);
  xobj.onreadystatechange = function() {
      if (xobj.readyState == 4 && xobj.status == "200") {

          // .open will NOT return a value but simply returns undefined in async mode so use a callback
          callback(xobj.responseText);

      }
  }
  xobj.send(null);

}*/

function main1() {
  if (!(firebase.auth().currentUser)) {
    alert("loads!");
    var email = localStorage.getItem("email");
    var password = localStorage.getItem("password");
    firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
      // Handle Errors here.
      var errorCode = error.code;
      var errorMessage = error.message;
      signedIn = 0;
      // [START_EXCLUDE]
      if (errorCode === 'auth/wrong-password') {
        alert('Wrong password.');
      } else {
        alert(errorMessage);
      }
      console.log(error);
      // [END_EXCLUDE]
    });
  }

  alert(firebase.auth().currentUser);
}

function runThis() {
  var email = localStorage.getItem("email");
  var password = localStorage.getItem("password");
  alert(email + " " + password);
}

function logout() {
  firebase.auth().signOut();
  window.location.href='index.html';
  return;
}
/*
firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    alert("signed in");
  } else {
    alert("not signed in");
  }
});
*/
</script>
</head>
<html>
	<body onload="main1()">
		<button class="btn1 logOut topright" onclick="logout()"><p class = "helveticaSmall">LOGOUT</button>
		<button class="btn2 startGame" onclick="window.location.href='game.html'"><p class = "helveticaVeryLarge">"START"</button>
        <button onclick="runThis()">Click!</button>

		<text class="stats"><p class="helveticaMedium">"STATS"</text>
			<table>
				<tr>
					<th>LONGEST: </th>
					<th>LONGDICTION(placeholder text :^)</th>
				</tr>
				<tr>
					<th>WINS: </th>
					<th>13(placeholder txt)</th>
				</tr>
				<tr>
					<th>LOSSES: </th>
					<th>24(placeholder)</th>
				</tr>
				<tr>
					<th>AVGLENGTH: </th>
					<th>5.67(changed to text)</th>
				</tr>
			</table>
		</p>
	</body>
</html>
